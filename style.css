:root{
  --bg:#1a1f36; --card:#242b4a; --text:#ffffff; --muted:#94a3b8; --border:#3b4575;
  --primary:#3b82f6; --danger:#ef4444; --ok:#22c55e; --warn:#f59e0b;
  --radius:12px;
}
*{box-sizing:border-box}
html,body{height:100%;margin:0;padding:0}
body{background:var(--bg);color:var(--text);font-family:system-ui,-apple-system,Segoe UI,Roboto,sans-serif;line-height:1.5}

.topbar{display:flex;gap:12px;align-items:center;justify-content:center;padding:20px 16px;border-bottom:2px solid var(--primary);background:linear-gradient(135deg, #1e40af 0%, #3b82f6 100%);flex-wrap:wrap}
.topbar h1{margin:0;font-size:clamp(20px,4vw,26px);font-weight:700;color:#fff}

.toast{position:fixed;left:50%;transform:translateX(-50%);top:10px;background:#242b4a;border:2px solid var(--primary);padding:12px 20px;border-radius:var(--radius);z-index:1001;max-width:90%;box-shadow:0 8px 24px rgba(59,130,246,.3);color:#fff;font-weight:500}
.hidden{display:none!important}

.tabs{display:flex;gap:6px;padding:12px 12px;border-bottom:2px solid var(--border);background:var(--card);overflow-x:auto;position:sticky;top:0;z-index:100}
.tab-btn{padding:12px 20px;border:2px solid transparent;border-radius:999px;background:var(--bg);color:var(--text);cursor:pointer;font-size:15px;min-height:48px;white-space:nowrap;flex-shrink:0;font-weight:600;transition:all .2s}
.tab-btn.active{border-color:var(--primary);background:var(--primary);color:#fff;box-shadow:0 4px 12px rgba(59,130,246,.4)}

main{padding:16px 16px 84px}
.tab{display:none}
.tab.active{display:block}

.card{background:var(--card);border:2px solid var(--border);border-radius:var(--radius);padding:20px;margin-bottom:16px;box-shadow:0 2px 8px rgba(0,0,0,.2)}
.card h2{margin:0 0 16px 0;font-size:20px;color:var(--primary)}
.card h3{margin:0 0 12px 0;font-size:18px;color:#fff}
.card h4{margin:0 0 12px 0;font-size:16px;color:#fff}

.row{display:flex;gap:8px;align-items:center;flex-wrap:wrap;margin:8px 0}
.grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(300px,1fr));gap:12px}
.list{display:flex;flex-direction:column;gap:12px}
.form-group{margin:12px 0}
.form-group label{display:block;margin-bottom:8px;color:var(--muted);font-size:14px;font-weight:500}
.filters{display:flex;gap:8px;flex-wrap:wrap;margin:12px 0}

input,textarea,select{width:100%;background:var(--bg);border:2px solid var(--border);color:var(--text);padding:12px;border-radius:var(--radius);font-size:16px;transition:border-color .2s}
input:focus,textarea:focus,select:focus{outline:none;border-color:var(--primary)}
textarea{min-height:80px;resize:vertical}
input[type="checkbox"]{width:auto;margin-right:6px}

.btn{background:#475569;color:#fff;border:none;border-radius:999px;padding:12px 20px;cursor:pointer;min-height:48px;font-size:15px;font-weight:600;transition:all .2s}
.btn.primary{background:var(--primary);box-shadow:0 4px 12px rgba(59,130,246,.3)}
.btn.primary:hover{box-shadow:0 6px 16px rgba(59,130,246,.4)}
.btn.danger{background:var(--danger);box-shadow:0 4px 12px rgba(239,68,68,.3)}
.btn.warn{background:var(--warn);color:#000;box-shadow:0 4px 12px rgba(245,158,11,.3)}
.btn.ok{background:var(--ok);box-shadow:0 4px 12px rgba(34,197,94,.3)}
.btn:active{transform:scale(0.97)}

.badge{display:inline-block;padding:6px 12px;border-radius:999px;font-size:13px;font-weight:600}
.badge.open{background:#22c55e;color:#fff}
.badge.closed{background:#64748b;color:#fff}

.table-timer{color:var(--muted);font-size:13px;margin-top:4px}

.order-card{position:relative;border-radius:var(--radius);padding:16px;margin-bottom:12px}
.order-card.pending{background:#fff;color:#1a1f36;border:2px solid #e2e8f0}
.order-card.servito{background:#22c55e;color:#fff;border:2px solid #16a34a}
.order-card.annullato{background:#ef4444;color:#fff;border:2px solid #dc2626}
.order-card .order-header{display:flex;justify-content:space-between;align-items:center;margin-bottom:8px;flex-wrap:wrap;gap:8px}
.order-card .order-items{background:rgba(0,0,0,.1);border-radius:8px;padding:12px;margin:8px 0;font-size:14px;line-height:1.6}
.order-card .order-actions{display:flex;gap:8px;flex-wrap:wrap;margin-top:12px}

.menu-layout{display:grid;grid-template-columns:280px 1fr;gap:12px}
#categoryList{list-style:none;padding:0;margin:0}
#categoryList li{display:flex;justify-content:space-between;align-items:center;padding:12px;border:2px solid var(--border);border-radius:var(--radius);margin-bottom:8px;flex-wrap:wrap;gap:8px;background:var(--bg)}
#categoryList li span:first-child{flex:1;min-width:100px;font-weight:600}

.modal{position:fixed;inset:0;background:rgba(0,0,0,.85);display:flex;align-items:center;justify-content:center;padding:16px;z-index:1000}
.modal-content{background:var(--card);border:2px solid var(--primary);border-radius:var(--radius);padding:24px;max-width:600px;width:100%;max-height:90vh;overflow-y:auto;box-shadow:0 8px 32px rgba(59,130,246,.3)}
.modal-content.pin{text-align:center}
.pin-digits{font-size:clamp(40px,12vw,64px);font-weight:800;letter-spacing:clamp(6px,2vw,12px);background:var(--bg);border:2px solid var(--primary);border-radius:var(--radius);padding:24px;margin:20px auto;user-select:all;color:var(--primary)}

.qr-box{display:flex;align-items:center;justify-content:center;min-height:260px;padding:12px}
.chart-box{position:relative;height:300px}
.charts-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(300px,1fr));gap:12px}

.hint{color:var(--muted);font-size:13px;margin:6px 0}
.footer{padding:16px;border-top:2px solid var(--border);color:var(--muted);text-align:center;font-size:13px}

@media (max-width: 768px){
  .tabs{position:fixed;bottom:0;left:0;right:0;justify-content:space-around;border-top:2px solid var(--border);border-bottom:none;z-index:100}
  .menu-layout{grid-template-columns:1fr}
  .grid{grid-template-columns:1fr}
  .charts-grid{grid-template-columns:1fr}
  .chart-box{height:250px}
}
